//apply plugin: 'java'
apply plugin: 'maven'
apply plugin: 'maven-publish'
apply plugin: 'ivy-publish'

//android support
buildscript{
    repositories{
        jcenter()
    }

    dependencies {
	classpath 'com.android.tools.build:gradle:1.2.3'
    }
}

allprojects{
    repositories{
	jcenter()
    }
}

apply plugin: 'android'

android {
    compileSdkVersion 20
    buildToolsVersion "20.0.0"
}

repositories{
	mavenCentral()
	maven{
	    url "http://mvnrepository.com/artifact/org.json/json"
    	}
}

group = 'com.qwasi.sdk'

version = '2.1.0'

dependencies{
	compile fileTree(dir: 'libs', include: ['*.jar'])
	//compile 'com.android.support:appcompat-v7:20.+'
	compile 'com.google.android.gms:play-services:6.1.71'
	compile 'com.thetransactioncompany:jsonrpc2-base:1.38'
	compile 'com.thetransactioncompany:jsonrpc2-client:1.15'
	compile 'net.minidev:json-smart:2.0'
}

sourceSets{
	main{
		java{
			srcDir 'src'
			srcDir 'resources'
		}
		resources { srcDir 'resources'
		}
	}
}

task writeNewPom << {
    pom {
        project {
            groupId 'com.qwasi.sdk'
            artifactId 'osSdk'
            version '2.1.0'

            inceptionYear '2015'
            licenses {
                license {
                    name 'APACHE'
                    distribution 'repo'
                }
            }
        }
    }.writeTo("$buildDir/2.1.0.pom.xml")
}

task sourceJar(type: Jar){
     from sourceSets.main.allJava
}

task tester(type: JavaExec){
     main = 'org.qwasi.sdk.Test'
}